<section class="pb-2">
    <h1>Explore Latest</h1>

    <div class="px-2 pb-2">
        <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item" aria-current="/explore-latest">Explore Latest</li>
            </ol>
          </nav>
    </div>

    <% if (recipe!="") { %>
        <div class="row row-cols-2 row-cols-lg-4 g-2 g-lg-3 pt-4">
            <% recipe.forEach(function(recipe, index){ %>
                <a href="/recipe/<%= recipe.url %>" class="col text-center category__link">
                    <div class="category__img category__img--Large shadow">
                        <img src="img/recipes/<%= recipe.image %>" alt="<%= recipe.name %>" loading="lazy" />
                    </div>
                    <div class="pt-1"><%= recipe.name %></div>
                </a>
            <% }) %>
        </div>
    <% } else { %>
        <h3 class="py-4"> Sorry there was an internal error somewhere, please contact the admin - <a href="/">Back</a></h2>
    <% } %>

    <% if(recipe.length > 0) { %>
        <nav aria-label="..." class="mt-5 d-flex justify-content-center">
            <ul class="pagination">
                <% if (currentPage == 1) { %>
                    <li class="page-item disabled">
                        <a class="page-link" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>                    
                    </li>
                <% } else { %>
                    <li class="page-item">
                        <a class="page-link" aria-label="First Page" href="/explore-latest?page=1">
                            <span aria-hidden="true">&laquo;</span>
                        </a>                    
                    </li>
                <% } %>

                <% let i = (Number(currentPage) > 5 ? Number(currentPage) -4 : 1) %>
                <% if (i !== 1) { %>
                    <li class="page-item"><a class="page-link" href="#">...</a></li>
                <% } %>

                <% for (; i <= (Number(currentPage) + 4) && i <= pages; i++) { %>
                    <% if (i == currentPage) { %>
                        <li class="page-item active"><a class="page-link" href="#"><%= i %></a></li>
                    <% } else { %>
                        <li class="page-item"><a class="page-link" href="/explore-latest?page=<%= i %>"><%= i %></a></li>
                    <% } %>

                    <% if (i == Number(currentPage) +4 && i < pages) { %>
                        <li class="page-item"><a class="page-link" href="#">...</a></li>
                    <% } %>
                <% } %>

                <% if (currentPage == pages) { %>
                    <li class="page-item disabled">
                        <a class="page-link" aria-label="Last Page">
                            <span aria-hidden="true">&raquo;</span>
                        </a>                    
                    </li>
                <% } else { %>
                    <li class="page-item">
                        <a class="page-link" aria-label="Last Page" href="/explore-latest?page=<%= pages %>">
                            <span aria-hidden="true">&raquo;</span>
                        </a>                    
                    </li>
                <% } %>
            </ul>
        </nav>
    <% } %>
</section>